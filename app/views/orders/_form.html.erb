<%= form_for @order, html: { class: "form-horizontal"} do |f| %>
  <% if @order.errors.any? %>
    <div class="alert alert-error">
      <%= pluralize(@order.errors.count, "error") %> prohibited this order from being placed:
    </div>
  <% end %>

  <div class="control-group <%= @order.errors[:name].empty? ? "" : "error" %>">
    <%= f.label :name, class: "control-label" %>
    <div class="controls">
      <%= f.text_field :name %>
      <span class="help-inline"><%= @order.errors[:name][0] %></span>
    </div>
  </div>
  <div class="control-group <%= @order.errors[:address].empty? ? "" : "error" %>">
    <%= f.label :address, class: "control-label" %>
    <div class="controls">
      <%= f.text_area :address, rows: 3, cols: 40 %>
      <span class="help-inline"><%= @order.errors[:address][0] %></span>
    </div>
  </div>
  <div class="control-group <%= @order.errors[:email].empty? ? "" : "error" %>">
    <%= f.label :email, class: "control-label" %>
    <div class="controls">
      <%= f.text_field :email %>
      <span class="help-inline"><%= @order.errors[:email][0] %></span>
    </div>
  </div>
  <div class="control-group <%= @order.errors[:pay_type].empty? ? "" : "error" %>">
    <%= f.label :pay_type, class: "control-label" %>
    <div class="controls">
      <%= f.select :pay_type, Order::PAYMENT_TYPES, prompt: 'Select a payment method' %>
      <span class="help-inline"><%= @order.errors[:pay_type][0] %></span>
    </div>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">Place order</button>
    <%= link_to 'Cancel', cart_path(current_cart.id), class: "btn"%>
  </div>

<% end %>
